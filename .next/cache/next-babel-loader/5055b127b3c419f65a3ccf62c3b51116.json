{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/clevel-air/todo-next/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Todo from \"../components/Todo\";\nimport Header from \"../components/Header\";\nimport \"../styles/base.scss\";\nimport api from '../static/config-variable';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res, todos;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(api);\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return res.data;\n\n            case 5:\n              todos = _context.sent;\n\n              _this.setState({\n                todos: todos\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      _this.setState({\n        note: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addTodo\", function () {\n      if (_this.state.note === '') {\n        return;\n      }\n\n      var self = _assertThisInitialized(_this);\n\n      axios.post(api, {\n        note: _this.state.note,\n        completed: false\n      }).then(function (res) {\n        self.setState(function (prevState) {\n          return {\n            todos: [].concat(_toConsumableArray(prevState.todos), [{\n              note: res.data.note,\n              completed: res.data.completed,\n              id: res.data.id\n            }]),\n            note: ''\n          };\n        });\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyPress\", function (event) {\n      var ENTER = 13;\n\n      if (event.which === ENTER && _this.state.note) {\n        _this.addTodo();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteTodo\", function (id) {\n      var self = _assertThisInitialized(_this);\n\n      axios[\"delete\"](api + \"/\".concat(id)).then(function (res) {\n        self.setState({\n          todos: self.state.todos.filter(function (todo) {\n            return todo.id !== id;\n          })\n        });\n      });\n    });\n\n    _this.state = {\n      note: '',\n      todos: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"updateStatus\",\n    value: function updateStatus(id) {\n      var self = this;\n      var data = this.state.todos.find(function (item) {\n        return item.id === id;\n      });\n      data.completed = !data.completed;\n      axios.put(api + \"/\".concat(id), data).then(function (res) {\n        self.setState({\n          todos: self.state.todos.map(function (todo) {\n            if (todo.id === id) {\n              todo.completed = res.data.completed;\n              return todo;\n            }\n\n            return todo;\n          })\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var todos = this.state.todos.map(function (val) {\n        return __jsx(Todo, {\n          key: val.id,\n          note: val.note,\n          completed: val.completed,\n          updateStatus: function updateStatus() {\n            return _this2.updateStatus(val.id);\n          },\n          deleteTodo: function deleteTodo() {\n            return _this2.deleteTodo(val.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        });\n      });\n      return __jsx(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, __jsx(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), todos, __jsx(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        placeholder: \"Enter Notes\",\n        type: \"text\",\n        className: \"input\",\n        value: this.state.note,\n        onChange: this.handleChange,\n        onKeyPress: this.handleKeyPress.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), __jsx(\"button\", {\n        className: \"button\",\n        onClick: this.addTodo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"add!\")), __jsx(\"footer\", {\n        className: \"footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/clevel-air/todo-next/pages/index.js"],"names":["React","Component","axios","Todo","Header","api","Home","props","get","res","data","todos","setState","event","note","target","value","state","self","post","completed","then","prevState","id","error","console","log","ENTER","which","addTodo","filter","todo","fetchData","find","item","put","map","val","updateStatus","deleteTodo","handleChange","handleKeyPress","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios'\nimport Todo from \"../components/Todo\";\nimport Header from \"../components/Header\";\nimport \"../styles/base.scss\"\nimport api from '../static/config-variable'\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      note: '',\n      todos: []\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  fetchData = async () => {\n    const res = await axios.get(api);\n    const todos = await res.data;\n    this.setState({todos})\n  };\n\n  handleChange = (event) => {\n    this.setState({note: event.target.value});\n  };\n\n  addTodo = () => {\n    if (this.state.note === '') {\n      return\n    }\n    let self = this;\n    axios.post(api, {note: this.state.note, completed: false})\n      .then(function (res) {\n        self.setState(prevState => ({\n          todos: [...prevState.todos, {note: res.data.note, completed: res.data.completed, id: res.data.id}],\n          note: ''\n        }))\n      }).catch(function (error) {\n        console.log(error);\n      });\n\n  };\n\n  handleKeyPress = (event) => {\n    const ENTER = 13;\n    if (event.which === ENTER && this.state.note) {\n      this.addTodo()\n    }\n  };\n\n  updateStatus(id) {\n    let self = this;\n    let data = this.state.todos.find(item => item.id === id);\n    data.completed = !data.completed;\n    axios.put(api + `/${id}`, data)\n      .then(function (res) {\n        self.setState({\n          todos: self.state.todos.map(todo => {\n            if (todo.id === id) {\n              todo.completed = res.data.completed;\n              return todo\n            }\n            return todo\n          })\n        })\n      });\n  }\n\n  deleteTodo = (id) => {\n    let self = this;\n    axios.delete(api + `/${id}`)\n      .then(function (res) {\n        self.setState({\n          todos: self.state.todos.filter(function (todo) {\n            return todo.id !== id\n          })\n        });\n      })\n  }\n\n  render() {\n    let todos = this.state.todos.map((val) => {\n      return <Todo key={val.id} note={val.note} completed={val.completed}\n        updateStatus={() => this.updateStatus((val.id))}\n        deleteTodo={() => this.deleteTodo((val.id))}\n      />\n    });\n\n    return (\n      <div className={\"container\"}>\n        <Header/>\n        {todos}\n        <div className={\"box\"}>\n          <input placeholder=\"Enter Notes\" type=\"text\" className=\"input\"\n            value={this.state.note}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress.bind(this)}\n          />\n          <button className=\"button\" onClick={this.addTodo}>add!</button>\n        </div>\n        <footer className=\"footer\"/>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}