{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/clevel-air/todo-next/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Todo from \"../components/Todo\";\nimport Header from \"../components/Header\";\nimport \"../styles/base.scss\";\nimport api from '../static/config-variable';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"fetchData\", async () => {\n      const res = await axios.get(api);\n      const todos = await res.data;\n      this.setState({\n        todos\n      });\n    });\n\n    _defineProperty(this, \"handleChange\", event => {\n      this.setState({\n        note: event.target.value\n      });\n    });\n\n    _defineProperty(this, \"addTodo\", () => {\n      if (this.state.note === '') {\n        return;\n      }\n\n      let self = this;\n      axios.post(api, {\n        note: this.state.note,\n        completed: false\n      }).then(function (res) {\n        self.setState(prevState => ({\n          todos: [...prevState.todos, {\n            note: res.data.note,\n            completed: res.data.completed,\n            id: res.data.id\n          }],\n          note: ''\n        }));\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n\n    _defineProperty(this, \"handleKeyPress\", event => {\n      const ENTER = 13;\n\n      if (event.which === ENTER && this.state.note) {\n        this.addTodo();\n      }\n    });\n\n    _defineProperty(this, \"deleteTodo\", id => {\n      let self = this;\n      axios.delete(api + `/${id}`).then(function (res) {\n        self.setState({\n          todos: self.state.todos.filter(function (todo) {\n            return todo.id !== id;\n          })\n        });\n      });\n    });\n\n    this.state = {\n      note: '',\n      todos: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  updateStatus(id) {\n    let self = this;\n    let data = this.state.todos.find(item => item.id === id);\n    data.completed = !data.completed;\n    axios.put(api + `/${id}`, data).then(function (res) {\n      self.setState({\n        todos: self.state.todos.map(todo => {\n          if (todo.id === id) {\n            todo.completed = res.data.completed;\n            return todo;\n          }\n\n          return todo;\n        })\n      });\n    });\n  }\n\n  render() {\n    let todos = this.state.todos.map(val => {\n      return __jsx(Todo, {\n        key: val.id,\n        note: val.note,\n        completed: val.completed,\n        updateStatus: () => this.updateStatus(val.id),\n        deleteTodo: () => this.deleteTodo(val.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    });\n    return __jsx(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, __jsx(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), todos, __jsx(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      placeholder: \"Enter Notes\",\n      type: \"text\",\n      className: \"input\",\n      value: this.state.note,\n      onChange: this.handleChange,\n      onKeyPress: this.handleKeyPress.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      className: \"button\",\n      onClick: this.addTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"add!\")), __jsx(\"footer\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/clevel-air/todo-next/pages/index.js"],"names":["React","Component","axios","Todo","Header","api","Home","constructor","props","res","get","todos","data","setState","event","note","target","value","state","self","post","completed","then","prevState","id","catch","error","console","log","ENTER","which","addTodo","delete","filter","todo","componentDidMount","fetchData","updateStatus","find","item","put","map","render","val","deleteTodo","handleChange","handleKeyPress","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios'\nimport Todo from \"../components/Todo\";\nimport Header from \"../components/Header\";\nimport \"../styles/base.scss\"\nimport api from '../static/config-variable'\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      note: '',\n      todos: []\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  fetchData = async () => {\n    const res = await axios.get(api);\n    const todos = await res.data;\n    this.setState({todos})\n  };\n\n  handleChange = (event) => {\n    this.setState({note: event.target.value});\n  };\n\n  addTodo = () => {\n    if (this.state.note === '') {\n      return\n    }\n    let self = this;\n    axios.post(api, {note: this.state.note, completed: false})\n      .then(function (res) {\n        self.setState(prevState => ({\n          todos: [...prevState.todos, {note: res.data.note, completed: res.data.completed, id: res.data.id}],\n          note: ''\n        }))\n      }).catch(function (error) {\n        console.log(error);\n      });\n\n  };\n\n  handleKeyPress = (event) => {\n    const ENTER = 13;\n    if (event.which === ENTER && this.state.note) {\n      this.addTodo()\n    }\n  };\n\n  updateStatus(id) {\n    let self = this;\n    let data = this.state.todos.find(item => item.id === id);\n    data.completed = !data.completed;\n    axios.put(api + `/${id}`, data)\n      .then(function (res) {\n        self.setState({\n          todos: self.state.todos.map(todo => {\n            if (todo.id === id) {\n              todo.completed = res.data.completed;\n              return todo\n            }\n            return todo\n          })\n        })\n      });\n  }\n\n  deleteTodo = (id) => {\n    let self = this;\n    axios.delete(api + `/${id}`)\n      .then(function (res) {\n        self.setState({\n          todos: self.state.todos.filter(function (todo) {\n            return todo.id !== id\n          })\n        });\n      })\n  }\n\n  render() {\n    let todos = this.state.todos.map((val) => {\n      return <Todo key={val.id} note={val.note} completed={val.completed}\n        updateStatus={() => this.updateStatus((val.id))}\n        deleteTodo={() => this.deleteTodo((val.id))}\n      />\n    });\n\n    return (\n      <div className={\"container\"}>\n        <Header/>\n        {todos}\n        <div className={\"box\"}>\n          <input placeholder=\"Enter Notes\" type=\"text\" className=\"input\"\n            value={this.state.note}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress.bind(this)}\n          />\n          <button className=\"button\" onClick={this.addTodo}>add!</button>\n        </div>\n        <footer className=\"footer\"/>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}